<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Reports</h3>
  </div>
  <div class="panel-body">
        <!-- <h1>Reports Route</h1> -->
        <!-- {{date}}
      {{year}}
      {{month}} -->
      Select month: <select ng-init='selectedMonth = months[month]; updateSelectDate()' ng-options='value for value in months' ng-model='selectedMonth' ng-change="updateSelectDate()"></select>
      <select ng-init='selectedYear = year' ng-options='value for value in years' ng-model='selectedYear' ng-change='updateSelectDate()'></select><br/>
      <hr/>
      Individual reports for {{selectedMonth}}, {{selectedYear}}
      <br>

      <!-- ng-repeat for li items
      Set li class to "list-group-item-info" (blue) and show "view" button if report has been received
      Set li class to "list-group-item-danger" (red) and hide "view" button if report has not been received -->

      <div class="listGroupSiteNames">
        <ul class="list-group">
          <li class="list-group-item" ng-repeat="center in centers">{{center.name}}<button class="btn btn-default listGroupSiteNamesButton" data-toggle="modal" data-target="#viewButtonModal">View</button></li>
        </ul>
      </div>  

      <br/>
      
      <span ng-repeat='center in centers'>
        <span ng-show='!reports[center.name]'>Not Reported</span>
        <span ng-show='reports[center.name]'><a ng-href='/reports/{{reports[center.name][_id]}}'>Reported</a></span>
         | {{center.name}}
      </span>
      
      <br/>
        
      <div class="panel panel-default">
        <div class="panel-body globalReports">
          Global reports:<p>{{selectedMonth}}</p><p>Year through {{selectedYear}}</p><p>Grand totals for {{selectedMonth}}</p>
        </div>
      </div>

      <!-- Button trigger modal -->
      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#create">
         Create Custom Report
      </button>

      <!-- Button trigger modal -->
      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#addSite">
         Add Site Month Report
      </button>

      <!-- Create Custom Modal -->
      <div class="modal fade" id="create" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" ng-controller="reportCreateCustomCtrl">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header list-group-item-info">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title" id="myModalLabel">Create Custom Report</h4>
            </div>
            <div class="modal-body">
              <div class="panel panel-default">
                <div class="panel-body">
                    Select sites to use in report:
                      <select class="selectpicker">
                        <option>Kirtland</option>
                        <option>Mormon Trail</option>
                        <option>Hawaii Temple</option>
                        <option>Hill Cumorah</option>
                        <option>Idaho Falls</option>
                        <option>Independence</option>
                      </select>
                </div>
              </div>
              <div class="panel panel-default">
                <div class="panel-body">
                  Select metrics to support:
                    <select class="selectpicker">
                      <option>Referrals(inbound)</option>
                      <option>Referrals(members)</option>
                      <option>Referrals(cards)</option>
                      <option>Non-members on tours</option>
                      <option>Visitors on tours</option>
                      <option>Total visitors</option>
                    </select>
                </div>
              </div>
              <div class="panel panel-default">
                 <div class="panel-body">
                  Select date range: <br/>Start month
                    <!-- Single button -->
                        <select class="selectpicker">
                          <option>January</option>
                          <option>February</option>
                          <option>April</option>
                          <option>May</option>
                          <option>June</option>
                          <option>July</option>
                          <option>August</option>
                          <option>September</option>
                          <option>October</option>
                          <option>November</option>
                          <option>December</option>
                        </select>
                    Year:
                        <select class="selectpicker">
                          <option>2009</option>
                          <option>2010</option>
                          <option>2011</option>
                          <option>2012</option>
                          <option>2013</option>
                          <option>2014</option>
                          <option>2015</option>
                        </select>

                    <br/>

                    End month:
                        <select class="selectpicker">
                          <option>January</option>
                          <option>February</option>
                          <option>April</option>
                          <option>May</option>
                          <option>June</option>
                          <option>July</option>
                          <option>August</option>
                          <option>September</option>
                          <option>October</option>
                          <option>November</option>
                          <option>December</option>
                        </select>

                    Year:
                        <select class="selectpicker">
                          <option>2009</option>
                          <option>2010</option>
                          <option>2011</option>
                          <option>2012</option>
                          <option>2013</option>
                          <option>2014</option>
                          <option>2015</option>
                        </select>
                    </div>
                </div>
              </div>
              <div class="customReportButtons">
                <button type="button" class="btn btn-default">Grand totals</button>
                <button type="button" class="btn btn-default">Breakdown by month</button>
                <button type="button" class="btn btn-default">Breakdown by year</button>
            </div>    
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
              <button type="button" class="btn btn-primary">Export to Excel</button>
            </div>
          </div>     
        </div>
      </div>


      <!-- Add Site Modal -->
      <div class="modal fade" id="addSite" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" ng-controller="reportAddSiteCtrl">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header list-group-item-info">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title" id="myModalLabel">Add Site Month Report</h4>
            </div>
            <div class="modal-body">
                <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title">Visitors Center and Historic Site Monthly Report for: {{site.name}}</h3><br/>
                      Choose site:
                      <select class="selectpicker">
                        <option ng-repeat="center in centers" ng-model="newReport.center"></option>
                      </select>
                       Month:
                      <select class="selectpicker" ng-init='selectedMonth = months[month]' ng-options='value for value in months'></select> 
                  
                      Date:
                      <select class="selectpicker" ng-init='selectedYear = year' ng-options='value for value in years'>
                      </select>
                </div>
                <div class="panel-body">
                    <div class="panel panel-default">
                      <div class="panel-body monthlyReportBox">
                        Visitors Summary
                       
                          <li>Total number of meaningful contacts:<input class="inputFieldEdit" min="0" type="number" ng-model="newReport.visitor_total"></li>
                          <li>Total number of people who took tours:<input class="inputFieldEdit" min="0" type="number" ng-model="newReport.visitor_tour"></li>
                          <li>Total number of non-members who took tours:<input class="inputFieldEdit" min="0" type="number" ng-model="newReport.visitor_tournonmember"></li>
                        
                      </div>
                    </div>
                    <div class="panel panel-default">
                      <div class="panel-body monthlyReportBox">
                        Referrals Summary
                         
                            <li>Those referring at the site:<input class="inputFieldEdit" type="number" min="0" ng-model="newReport.referral_cards"></li>
                            <li>Those referring when called after visiting the site:<input class="inputFieldEdit" type="number" min="0" ng-model="newReport.referral_called"></li>
                            <li>Those referring with inbound calls:<input class="inputFieldEdit" type="number" min="0" ng-model="newReport.referral_inbound"></li>
                            <li>Those referring whose names came from members:<input class="inputFieldEdit" type="number" min="0" ng-model="newReport.referral_member"></li>
                            <li>Total referrals:<input class="inputFieldEdit" type="number" min="0"></li>
                        
                      </div>
                    </div>
                    <div class="panel panel-default">
                      <div class="panel-body">
                        Comments:<textarea class="form-control inputFieldEditComments" rows="3" ng-model="newReport.comments"></textarea>
                      </div>
                    </div>   
                </div>
              </div>  
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary" ng-click="addNewSiteReport()">Save changes</button>
            </div>
          </div>
        </div>
      </div>


      <!-- View Button Modal -->
      <div class="modal fade" id="viewButtonModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" ng-controller="reportViewCtrl">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header list-group-item-info">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title" id="myModalLabel">View Single Report</h4>
            </div>
            <div class="modal-body">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title">Visitors Center and Historic Site Monthly Report for: {{site.name}}</h3>
                </div>
                <div class="panel-body">
                    <div class="panel panel-default">
                      <div class="panel-body monthlyReportBox">
                        Visitors Summary
                       
                          <li>Total number of meaningful contacts:</li>
                          <li>Total number of people who took tours:</li>
                          <li>Total number of non-members who took tours:</li>
                      
                      </div>
                    </div>
                    <div class="panel panel-default">
                      <div class="panel-body monthlyReportBox">
                        Referrals Summary
                            <li>Those referring at the site:</li>
                            <li>Those referring when called after visiting the site:</li>
                            <li>Those referring with inbound calls:</li>
                            <li>Those referring whose names came from members:</li>
                            <li>Total referrals:</li>
                       
                      </div>
                    </div>
                    <div class="panel panel-default">
                      <div class="panel-body">
                        Comments:
                      </div>
                    </div> 
                      <button type="button" class="btn btn-default">Print</button>
                      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#viewButtonModalEdit" data-dismiss="modal">Edit</button>
                      <button type="button" class="btn btn-default" ng-click="deleteReport()">Delete</button><br/>
                  
                     <div class="alert alert-danger" role="alert" ng-show="deleteReportWarning">Are you sure you want to delete this report? This action cannot be undone.<button type="button" class="btn btn-default">Yes, I want to delete this report</button><br/>
                     </div>    
                </div>
              </div>   
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>

      <!-- View Button Modal Edit -->
      <div class="modalEdit fade" id="viewButtonModalEdit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" ng-controller="reportEditCtrl">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header list-group-item-danger">
              <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
              <h4 class="modal-title" id="myModalLabel">Edit Report</h4>
            </div>
            <div class="modal-body">
                    <div class="modal-body">
              <div class="panel panel-default">
                <div class="panel-heading">
                  <h3 class="panel-title">Visitors Center and Historic Site Monthly Report for: {{site.name}}</h3>
                </div>
                <div class="panel-body">
                    <div class="panel panel-default">
                      <div class="panel-body monthlyReportBox">
                        Visitors Summary
                       
                          <li>Total number of meaningful contacts:<input class="inputFieldEdit" min="0" type="number"></li>
                          <li>Total number of people who took tours:<input class="inputFieldEdit" min="0" type="number"></li>
                          <li>Total number of non-members who took tours:<input class="inputFieldEdit" min="0" type="number"></li>
                        
                      </div>
                    </div>
                    <div class="panel panel-default">
                      <div class="panel-body monthlyReportBox">
                        Referrals Summary
                         
                            <li>Those referring at the site:<input class="inputFieldEdit" type="number" min="0"></li>
                            <li>Those referring when called after visiting the site:<input class="inputFieldEdit" type="number" min="0"></li>
                            <li>Those referring with inbound calls:<input class="inputFieldEdit" type="number" min="0"></li>
                            <li>Those referring whose names came from members:<input class="inputFieldEdit" type="number" min="0"></li>
                            <li>Total referrals:<input class="inputFieldEdit" type="number" min="0"></li>
                        
                      </div>
                    </div>
                    <div class="panel panel-default">
                      <div class="panel-body">
                        Comments:<textarea class="form-control inputFieldEditComments" rows="3"></textarea>
                      </div>
                    </div>   
                </div>
              </div>        
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>

